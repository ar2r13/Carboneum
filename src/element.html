<link rel="import" href="templating.html">
<link rel="import" href="observed-properties.html">
<script type="text/javascript">
	'use strict'

	function Custom(superClass) {
		/* eslint-disable no-undef */
		const mixins = [
			Templating,
			observedProperties
		]
		/* eslint-enable */

		return class extends Custom.mix(superClass).with(...mixins) {
			static get element() {
				return super.element || this
			}
		}
	}

	Custom.mix = function (superClass) {
		class Builder {
			constructor(superClass) {
				this.superClass = superClass
			}
			with(...mixins) {
				return mixins.reduce((c, mixin) => mixin(c), this.superClass) || this.superClass
			}
		}
		return new Builder(superClass)
	}

	Object.defineProperty(Custom, 'Element', {
		get() { return Custom(HTMLElement) }
	})

</script>
